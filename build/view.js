(()=>{let t=null;function e(){const e=document.querySelectorAll(".wp-block-telex-block-typing-effects:not([data-typing-initialized])");e.length>0&&(e.forEach(t=>{t.setAttribute("data-typing-initialized","true")}),function(e){"IntersectionObserver"in window?(t||(t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(n(e.target),t.unobserve(e.target))})},{threshold:.25,rootMargin:"50px 0px -50px 0px"})),e.forEach(e=>{t.observe(e)})):(console.warn("IntersectionObserver not supported, starting all typing effects immediately"),e.forEach(t=>{n(t)}))}(e))}function n(t){const e=t.querySelector(".typing-content"),n=t.querySelector(".typing-cursor"),i=JSON.parse(t.dataset.config||"{}");if(!e)return;const r=e.querySelectorAll("p, h1, h2, h3, h4, h5, h6, li, blockquote, pre, code");if(0===r.length)return;const{effect:s="typewriter",typingSpeed:l=100,shuffleSpeed:c=50,startDelay:a=500,showCursor:u=!0,cursorChar:d=">"}=i,f=Array.from(r).map(t=>({element:t,originalHTML:t.innerHTML,originalText:t.textContent||t.innerText||""}));function h(){t.classList.remove("typing-active"),t.classList.add("typing-complete"),n&&(n.style.display="none")}f.forEach(({element:t})=>{t.innerHTML=""}),n&&(n.style.display="none"),t.classList.add("typing-ready"),setTimeout(()=>{switch(t.classList.add("typing-active"),u&&n&&"hybrid"===s?(n.style.display="inline-block",f.length>0&&o(f[0].element,n,d,d)):n&&(n.style.display="none"),s){case"typewriter":!function(t,e,n){let o=0,i=0;!function r(){if(o>=t.length)return void n();const s=t[o],l=s.originalText;i<l.length?(s.element.textContent+=l.charAt(i),i++,setTimeout(r,e)):(o++,i=0,setTimeout(r,2*e))}()}(f,l,h);break;case"matrix":!function(t,e,n,o){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()";let r=0,s=0;!function l(){if(r>=t.length)return void o();const c=t[r],a=c.originalText;if(s>=a.length)return r++,s=0,void setTimeout(l,2*e);const u=a.charAt(s);let d=0;const f=Math.floor(10*Math.random())+5;" "===u?(c.element.textContent+=" ",s++,setTimeout(l,e/2)):function t(){if(d<f&&" "!==u){const e=i.charAt(Math.floor(72*Math.random())),o=c.element.textContent;c.element.textContent=o.substring(0,s)+e,d++,setTimeout(t,n)}else{const t=c.element.textContent;c.element.textContent=t.substring(0,s)+u,s++,setTimeout(l,e)}}()}()}(f,l,c,h);break;case"hybrid":!function(t,e,n,i,r){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let l=0,c=0;const a=t[0].element.closest(".wp-block-telex-block-typing-effects").querySelector(".typing-cursor");!function u(){if(l>=t.length)return void r();const d=t[l],f=d.originalText;if(c>=f.length)return l++,c=0,void setTimeout(u,2*e);if(" "===f.charAt(c)){const t=f.substring(0,c+1)+i;return o(d.element,a,t,i),c++,void setTimeout(u,e/2)}let h=0;const p=Math.floor(5*Math.random())+2;!function t(){if(h<p){const e=s.charAt(Math.floor(62*Math.random())),r=f.substring(0,c),l=r+e+i;o(d.element,a,l,i),setTimeout(()=>{const e=r+i;o(d.element,a,e,i),h++,setTimeout(t,n)},n)}else{const t=f.substring(0,c+1)+i;o(d.element,a,t,i),c++,setTimeout(u,e)}}()}()}(f,l,c,d,h)}},a)}function o(t,e,n,o=">"){if(!e)return;t.innerHTML="";const i=n.indexOf(o);let r="",s="";i>=0?(r=n.substring(0,i),s=n.substring(i+1)):r=n,r&&t.appendChild(document.createTextNode(r));const l=e.cloneNode(!0);l.style.display="inline",l.style.position="static",l.style.left="auto",l.style.top="auto",l.style.transform="none",t.appendChild(l),s&&t.appendChild(document.createTextNode(s))}document.addEventListener("DOMContentLoaded",function(){e()}),window.initializeTypingEffects=e})();