/**
 * The following styles get applied inside the editor only.
 */

.wp-block-telex-block-typing-effects {
	.typing-effects-editor {
		position: relative;
		border: 1px solid #e0e0e0;
		border-radius: 4px;
		background: linear-gradient(135deg, #f8f9fa 0%, #f1f3f4 100%);
		padding: 16px;
		margin: 8px 0;
		transition: all 0.2s ease;

		&:hover {
			border-color: #007cba;
			box-shadow: 0 0 0 1px rgba(0, 124, 186, 0.1);
		}

		.effect-indicator {
			margin-bottom: 12px;
			display: flex;
			align-items: center;
			gap: 8px;
			
			.effect-badge {
				display: inline-block;
				background: #007cba;
				color: #fff;
				font-size: 11px;
				font-weight: 500;
				padding: 2px 8px;
				border-radius: 12px;
				text-transform: uppercase;
				letter-spacing: 0.5px;
			}

			.speed-indicator {
				display: inline-block;
				background: #f0f0f0;
				color: #666;
				font-size: 10px;
				font-weight: 500;
				padding: 2px 6px;
				border-radius: 8px;
				font-family: monospace;
			}
		}

		.typing-content-wrapper {
			position: relative;
			display: flex;
			align-items: flex-start;
			flex-wrap: wrap;
			gap: 0;

			// Ensure InnerBlocks inherits theme styles
			.block-editor-inner-blocks {
				flex: 1;
				min-width: 0;
			}

			// Style the inner blocks to look natural
			.wp-block {
				margin: 0;
				
				&:not(:last-child) {
					margin-bottom: 0.5em;
				}
			}

			.typing-cursor-preview {
				display: inline-block;
				color: #007cba;
				font-weight: 500;
				animation: editor-cursor-blink 1.2s infinite;
				margin-left: 2px;
				vertical-align: baseline;
				line-height: inherit;
			}
		}
	}

	// Different visual cues for different effects
	&.effect-matrix .typing-effects-editor {
		background: linear-gradient(135deg, #f0f8f0 0%, #e8f5e8 100%);
		border-color: #4caf50;

		.effect-badge {
			background: #4caf50 !important;
		}

		.typing-cursor-preview {
			color: #4caf50;
		}
	}

	&.effect-hybrid .typing-effects-editor {
		background: linear-gradient(135deg, #fff8f0 0%, #fff0e6 100%);
		border-color: #ff9800;

		.effect-badge {
			background: #ff9800 !important;
		}

		.typing-cursor-preview {
			color: #ff9800;
		}
	}
}

// Editor cursor blink
@keyframes editor-cursor-blink {
	0%, 50% { opacity: 1; }
	51%, 100% { opacity: 0.3; }
}

// Focus states for better accessibility
.wp-block-telex-block-typing-effects.is-selected {
	.typing-effects-editor {
		border-color: #007cba;
		box-shadow: 0 0 0 2px rgba(0, 124, 186, 0.2);
	}
}

// Ensure good contrast in dark themes
.is-dark-theme .wp-block-telex-block-typing-effects {
	.typing-effects-editor {
		background: linear-gradient(135deg, #2c2c2c 0%, #383838 100%);
		border-color: #555;
		color: #fff;

		&:hover {
			border-color: #00a0d2;
		}

		.speed-indicator {
			background: #444;
			color: #ccc;
		}
	}
}